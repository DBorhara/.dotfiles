
# ========================================
# 🧠 ENVIRONMENT
# ========================================

export EDITOR="nvim"
export PATH="/opt/homebrew/opt/openjdk/bin:$PATH"
export EZA_CONFIG_DIR="$HOME/.config/eza"

# Homebrew
eval "$(/opt/homebrew/bin/brew shellenv)"

# ========================================
# 🧩 COMPLETION / AUTOSUGGESTIONS
# ========================================

# Enable classic tab-completion behavior
autoload -Uz compinit
compinit

# Enable menu-select navigation
autoload -Uz menu-select
zmodload zsh/complist
bindkey '^I' menu-complete
bindkey "$terminfo[kcbt]" reverse-menu-complete
bindkey -M menuselect '^I' menu-complete
bindkey -M menuselect "$terminfo[kcbt]" reverse-menu-complete
bindkey -M menuselect '^[[D' .backward-char '^[OD' .backward-char
bindkey -M menuselect '^[[C' .forward-char  '^[OC' .forward-char
bindkey -M menuselect '^M' .accept-line

# Zsh autosuggestions (Fish-style ghost text)
source /opt/homebrew/share/zsh-autosuggestions/zsh-autosuggestions.zsh

# Extra completions
fpath+=("/opt/homebrew/share/zsh-completions")

# fzf-tab (installed manually)
source ~/.zsh_plugins/fzf-tab/fzf-tab.plugin.zsh

# ========================================
# 🔍 FZF (Fuzzy Finder)
# ========================================

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
alias fzf='fzf --preview "bat --color=always --style=numbers --line-range=:500 {}"'

# ========================================
# 🐈 BAT (Better Cat)
# ========================================

alias cat='bat'
tailbat() {
  tail -f "$1" | bat --paging=never --language=log --plain
}

# ========================================
# 🖼️ NEOFETCH
# ========================================

alias neofetch="neofetch --backend iterm2 --source ~/.cache/thumbnails/neofetch/waifu2.png"
alias cfgneofetch="nvim ~/.config/neofetch/"

# Run neofetch on terminal open
if [[ -n "$TMUX" ]]; then
  neofetch --image_backend chafa
else
  neofetch
fi

# ========================================
# 🔧 NVIM
# ========================================

alias cfgnvim="nvim ~/.config/nvim/"
alias cfgxnvim="NVIM_APPNAME=nvim_scratch_build nvim ~/.config/nvim_scratch_build"
alias leetcode="nvim leetcode.nvim"

# ========================================
# 📁 EZA (Better ls)
# ========================================

alias ls='eza -al --hyperlink --icons --git -G --group-directories-first --time-style=long-iso'
alias cfgeza="nvim ~/.config/eza"

# ========================================
# 🧱 TMUX
# ========================================

alias cfgtmux="nvim ~/.config/tmux"

# ========================================
# 🌲 TRE (Tree replacement)
# ========================================

tre() { command tre "$@" -e && source "/tmp/tre_aliases_$USER" 2>/dev/null; }
alias tree='tre'

# ========================================
# 🪟 WEZTERM
# ========================================

alias cfgwezterm="nvim ~/.config/wezterm/wezterm.lua"

# ========================================
# 🚀 ZOXIDE (Better cd)
# ========================================

eval "$(zoxide init zsh)"
alias cd='z'

# ========================================
# ⚙️ CONFIG SHORTCUTS
# ========================================

alias zshrc="nvim ~/.zshrc"
alias so="source ~/.zshrc"
